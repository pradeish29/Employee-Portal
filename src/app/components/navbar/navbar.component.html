<!-- navbar.component.html -->
<nav class="navbar">
  <div class="navbar-left">
    <div class="logo">
      <img src="assets/blue-logo.png" alt="Kaar Logo" class="logo" />
      <span *ngIf="!hasLogo">EP</span>
    </div>
    
    <!-- Navigation arrows like Teams -->
    
  </div>
  
  <div class="navbar-center">
    <input 
      type="text" 
      class="search-bar" 
      placeholder="Search employee portal..."
      [(ngModel)]="searchQuery"
      (input)="onSearchInput($event)">
  </div>
  
  <div class="navbar-right">
    <div class="profile-container">
      <div class="profile-icon" (click)="onProfileClick()">
        <svg width="20" height="20" viewBox="0 0 24 24">
          <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
        </svg>
        <div class="status-indicator" [style.background-color]="currentStatus.color"></div>
      </div>

      <!-- Profile Dropdown -->
      <div class="profile-dropdown" [class.show]="showProfileDropdown" *ngIf="showProfileDropdown">
        <div class="profile-header">
          <div class="profile-avatar-large">
            <svg width="24" height="24" viewBox="0 0 24 24">
              <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
            </svg>
          </div>
          <div class="profile-info">
            <div class="profile-name">{{ user.name }}</div>
            <div class="profile-email">{{ user.email }}</div>
          </div>
        </div>

        <div class="profile-actions">
          <button class="view-profile-btn" (click)="onViewProfile()">
            <svg width="16" height="16" viewBox="0 0 24 24">
              <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
            </svg>
            View profile
          </button>
        </div>

        <div class="status-section">
          <div class="status-header">Set status</div>
          <div class="status-options">
            <div 
              *ngFor="let status of statusOptions" 
              class="status-option"
              [class.active]="currentStatus.status === status.status"
              (click)="onStatusChange(status)">
              <div class="status-dot" [style.background-color]="status.color"></div>
              <span class="status-label">{{ status.label }}</span>
              <svg *ngIf="currentStatus.status === status.status" width="16" height="16" viewBox="0 0 24 24" class="check-icon">
                <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
              </svg>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</nav>